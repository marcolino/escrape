<p>You're logged in as user {{ username }} ~ <a href="#/login">Logout</a></p>

<div class="container">
  <div class="tabbable tabs-below">
    <ul class="nav nav-pills">
      <li ng-class="{active: selectedTab == 'main'}">
        <a href="" ng-click="selectedTab = 'main';">Main</a>
      </li>
      <li ng-class="{active: selectedTab == 'photos'}">
        <a href="" ng-click="selectedTab = 'photos';">Photos</a>
      </li>
      <li ng-class="{active: selectedTab == 'comments'}">
        <a href="" ng-click="selectedTab = 'comments';">Comments <span class="badge">{{ person.comments.length }}</span></a>
      </li>
      <li ng-class="{active: selectedTab == 'unions', hide: true}">
        <a href="" ng-click="selectedTab = 'unions';">Unions</a>
      </li>
    </ul>
  
    <!-- person.id: {{person.id}} -->
    <!-- main pill -->
    <div class="tab-content" ng-show="selectedTab == 'main'">
      <form class="form-horizontal" style="margin-top:5px">
        <div class="form-group" style="vertical-align:top">
          <div class="col-xs-12">
            <div class="slider-horizontal">
            <span ng-repeat="(id, photo) in person.photos">
              <span>
                <img ng-src="images/users/user-{{$index}}.jpg" class="img-rounded img-clip" />
                <!--<img ng-src="{{sites[person.site]['url']}}/{{photo}}" class="img-rounded img-clip" />-->
                &nbsp;
              </span>
            </span>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-6">
            <div class="input-group">
              <span class="input-group-addon" title="Name"><span class="glyphicon glyphicon-user"></span></span>
              <input type="text" class="form-control" ng-model="person.name" placeholder="Name">
            </div>
          </div>
          <div class="col-xs-6">
            <div class="input-group">
              <span class="input-group-addon" title="Real name"><span class="glyphicon glyphicon-heart"></span></span>
              <input type="text" class="form-control" ng-model="person.realname" placeholder="Real name">
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12">
            <div class="input-group">
              <span class="input-group-addon" title="Description"><span class="glyphicon glyphicon-pencil"></span></span>
              <textarea class="form-control" rows="3" ng-model="person.description" placeholder="Description"></textarea>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-5 col-sm-3 col-md-2 col-lg-2">
            <div class="dropdown">
              <div class="input-group" data-toggle="dropdown">
                <span class="input-group-addon" title="Nationality"><img ng-src="images/flags/{{person.nationality.code}}.png" class="flag noselect" /></span>
                <input class="form-control" id="query" name="query" type="text" ng-model="person.nationality.country" />
              </div>
              <ul class="dropdown-menu scrollable-menu" role="menu">
                <li ng-repeat="(countryCode, countryName) in countries">
                  <a ng-click="formChangeCountry('{{countryCode}}')"><img ng-src="images/flags/{{countryCode}}.png" class="flag-li noselect" /> {{countryName}}</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2">
            <div class="input-group">
              <span class="input-group-addon" title="Vote"><span class="glyphicon glyphicon-hand-right"></span></span>
              <input type="number" class="form-control" ng-model="person.vote" min="0" max="9" placeholder="Vote">
            </div>
          </div>
          <div class="col-xs-8 col-sm-9 col-md-10 col-lg-10">
            <div class="input-group">
              <span class="input-group-addon"><a href="tel:3336480983"><span class="glyphicon glyphicon-earphone"></span></a></span>
              <input type="text" class="form-control" ng-model="person.phone" placeholder="Phone">
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <div class="input-group">
              <span class="input-group-addon" title="Street address"><a data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-home"></span></a></span>
              <input type="text" class="form-control" ng-model="person.streetAddress" placeholder="Street address">
            </div>
          </div>
        </div>

        <div class="form-group" style="vertical-align:bottom">
          <div class="col-xs-12">
            <button type="submit" class="btn btn-primary">Save</button>
          </div>
        </div>
      </form>

      <!-- street address popup -->
      <div id="myModal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-body">
              <img ng-src="{{ person.streetAddressImageUrl }}" class="img-responsive">
            </div>
          </div>
        </div>
      </div>

      <!--
      <div class="row">
        <a href=""><div class="img-rounded img-clip-container"><img ng-src="images/users/user-0.jpg" class="img-rounded img-clip"/></div></a>
      </div>
      <div class="row">
        <!- -{{ person.name }}- ->
        <label>Name:</label>{{person.name.substr(0,2)}}
      </div>
      <div class="row">
        <button type="button" class="btn btn-primary" ng-attr-title="{{person.phone}}">
          <a ng-href="tel:{{person.phone}}"><i class="glyphicon glyphicon-earphone light"></i></a>
        </button>
      </div>
      <div class="row">
        <button type="button" ng-class="{ 'btn': true, 'btn-danger': person.vote < 5, 'btn-success': person.vote >= 5, 'btn-vote': true, 'btn-vote-0': person.vote == 0, 'btn-vote-1': person.vote == 1, 'btn-vote-2': person.vote == 2, 'btn-vote-3': person.vote == 3, 'btn-vote-4': person.vote == 4, 'btn-vote-5': person.vote == 5, 'btn-vote-6': person.vote == 6, 'btn-vote-7': person.vote == 7, 'btn-vote-8': person.vote == 8, 'btn-vote-9': person.vote == 9 }" ng-attr-title="{{person.vote}}">
          <strong>{{person.vote ? person.vote : " ? "}}</strong>
        </button>
      </div>
      -->
    </div>
     
    <!-- photos pill -->
    <div class="tab-content" ng-show="selectedTab == 'photos'">
<!--
      <div class="row row-gap" ng-repeat="(id, photo) in person.photos">
        <!- -<a href=""><img ng-src="images/users/user-{{$index}}.jpg" ng-src-KO="{{url(person.url)}}/{{photo}}"/></a>- ->
        <a href=""><img ng-src="{{sites[person.site]['url']}}/{{photo}}" />
      </div>
-->
<!-- carousel -->
<!--
    <div id="slides_control">
      <carousel interval="myInterval">
        <slide ng-repeat="slide in slides" active="slide.active">
          <img ng-src="{{slide.image}}">
          <div class="carousel-caption">
            <h4>Slide {{$index+1}}</h4>
          </div>
        </slide>
      </carousel>
    </div>
-->
<div id="Carousel" class="carousel slide">
<ol class="carousel-indicators" ng-repeat="photo in person.photos">
    <li data-target="Carousel" data-slide-to="{{ $index }}" ng-class="{ active: $index == 0 }"></li>
</ol>
<div class="carousel-inner" ng-repeat="photo in person.photos">
    <div ng-class="{item: true, active: $index == 0}">
        <img ng-src="images/slides/slide-{{$index}}.jpg" class="img-responsive" />
        <!--<img ng-src="{{sites[person.site]['url']}}/{{photo}}" class="img-responsive">-->
    </div>
</div>

<!--
<span class="left carousel-control" data-target="#Carousel" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left"></span>
</span>
<span class="right carousel-control" data-target="#Carousel" data-slide="next">
   <span class="glyphicon glyphicon-chevron-right"></span>
</span>
-->
</div>

<!-- /carousel -->

    </div>

    <!-- comments pill -->
    <div class="tab-content" ng-show="selectedTab == 'comments'">
      <div class="comments">
        <div ng-repeat="(id, comment) in person.comments" class="row row-gap">
          <div class="form-group">
            <div class="col-xs-12">
              <div class="input-group">
                <span class="input-group-addon" style="vertical-align:top;" title="Comment">
                  <div style="font-size:12px; text-align: left">on: <i>{{ comment.date.substr(0, 10) }}</i></div>
                  <div style="font-size:12px; text-align: left">by: <i>{{ comment.author }}</i></div>
                </span>
                <textarea class="form-control" rows="3">{{ comment.content }}</textarea>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
        
    <!-- unions pill -->
    <div class="tab-content" ng-show="selectedTab == 'unions'">
      unions...
    </div>

  </div>
</div>