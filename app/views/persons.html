<div class="container-compact">
  <!-- persons-fixed-header -->
  <div id="persons-fixed-header" class="row persons-header right-scrollbar-placeholder">
    <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2" style="min-width: 164px; padding-bottom:2px; white-space:nowrap;">
    </div>
<!--
<pre>{{sieves.sort}}</pre>
-->
    <div class="col-xs-8 col-sm-9 col-md-10 col-lg-10">

      <div class="row visible-sm visible-md visible-lg" style="padding-bottom:2px;">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <div class="btn btn-default btn-shorter" title="The name of the person">
            <span class="persons-header-label">
              <span ng-if="!hasSortCriteria('name')">
                <span ng-click="addSortCriteria('name')">
                  name
                </span>
              </span>
              <span ng-if="hasSortCriteria('name')">
                <span ng-click="delSortCriteria('name')">
                  name
                </span>
                &nbsp;
                <span ng-click="flipSortCriteriaDirection('name')">
                  <i class="glyphicon" ng-class="{ 'glyphicon-circle-arrow-up': getSortCriteriaDirection('name') === 'descending', 'glyphicon-circle-arrow-down': getSortCriteriaDirection('name') === 'ascending' }">
                  </i>
                </span>
              </span>
            </span>
          </div>
        </div>
      </div>

      <div class="row" style="padding-bottom:2px;">
        <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
          <div class="btn btn-default btn-shorter" title="The nationality of the person">
            <span class="persons-header-label">
              <span ng-if="!hasSortCriteria('nationality')">
                <span ng-click="addSortCriteria('nationality')">
                  nationality
                </span>
              </span>
              <span ng-if="hasSortCriteria('nationality')">
                <span ng-click="delSortCriteria('nationality')">
                  nationality
                </span>
                &nbsp;
                <span ng-click="flipSortCriteriaDirection('nationality')">
                  <i class="glyphicon" ng-class="{ 'glyphicon-circle-arrow-up': getSortCriteriaDirection('nationality') === 'descending', 'glyphicon-circle-arrow-down': getSortCriteriaDirection('nationality') === 'ascending' }">
                  </i>
                </span>
              </span>
            </span>
          </div>
        </div>

        <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
          <div class="btn btn-default btn-shorter" title="The source site for this person">
            <span class="persons-header-label">
              <span ng-if="!hasSortCriteria('source')">
                <span ng-click="addSortCriteria('source')">
                  source
                </span>
              </span>
              <span ng-if="hasSortCriteria('source')">
                <span ng-click="delSortCriteria('source')">
                  source
                </span>
                &nbsp;
                <span ng-click="flipSortCriteriaDirection('source')">
                  <i class="glyphicon" ng-class="{ 'glyphicon-circle-arrow-up': getSortCriteriaDirection('source') === 'descending', 'glyphicon-circle-arrow-down': getSortCriteriaDirection('source') === 'ascending' }">
                  </i>
                </span>
              </span>
            </span>
          </div>
        </div>
        <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
          <div class="btn btn-default btn-shorter" title="The phone number of this person">
            <span class="persons-header-label">
              <span ng-if="!hasSortCriteria('phone')">
                <span ng-click="addSortCriteria('phone')">
                  phone
                </span>
              </span>
              <span ng-if="hasSortCriteria('phone')">
                <span ng-click="delSortCriteria('phone')">
                  phone
                </span>
                &nbsp;
                <span ng-click="flipSortCriteriaDirection('phone')">
                  <i class="glyphicon" ng-class="{ 'glyphicon-circle-arrow-up': getSortCriteriaDirection('phone') === 'descending', 'glyphicon-circle-arrow-down': getSortCriteriaDirection('phone') === 'ascending' }">
                  </i>
                </span>
              </span>
            </span>
          </div>
        </div>

        <div class="clearfix clearfix-thick visible-xs">&nbsp;</div>

        <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
          <div class="btn btn-default btn-shorter" title="The number of possible comments found for this person">
            <span class="persons-header-label">
              <span ng-if="!hasSortCriteria('comments')">
                <span ng-click="addSortCriteria('comments')">
                  comments
                </span>
              </span>
              <span ng-if="hasSortCriteria('comments')">
                <span ng-click="delSortCriteria('comments')">
                  comments
                </span>
                &nbsp;
                <span ng-click="flipSortCriteriaDirection('comments')">
                  <i class="glyphicon" ng-class="{ 'glyphicon-circle-arrow-up': getSortCriteriaDirection('comments') === 'descending', 'glyphicon-circle-arrow-down': getSortCriteriaDirection('comments') === 'ascending' }">
                  </i>
                </span>
              </span>
            </span>
          </div>
        </div>
        <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
          <div class="btn btn-default btn-shorter" title="The median rating of comments for this person">
            <span class="persons-header-label">
              <span ng-if="!hasSortCriteria('rating')">
                <span ng-click="addSortCriteria('rating')">
                  rating
                </span>
              </span>
              <span ng-if="hasSortCriteria('rating')">
                <span ng-click="delSortCriteria('rating')">
                  rating
                </span>
                &nbsp;
                <span ng-click="flipSortCriteriaDirection('rating')">
                  <i class="glyphicon" ng-class="{ 'glyphicon-circle-arrow-up': getSortCriteriaDirection('rating') === 'descending', 'glyphicon-circle-arrow-down': getSortCriteriaDirection('rating') === 'ascending' }">
                  </i>
                </span>
              </span>
            </span>
          </div>
        </div>
        <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
          <div class="btn btn-default btn-shorter" title="This person vote (given by current user)">
            <span class="persons-header-label">
              <span ng-if="!hasSortCriteria('vote')">
                <span ng-click="addSortCriteria('vote')">
                  vote
                </span>
              </span>
              <span ng-if="hasSortCriteria('vote')">
                <span ng-click="delSortCriteria('vote')">
                  vote
                </span>
                &nbsp;
                <span ng-click="flipSortCriteriaDirection('vote')">
                  <i class="glyphicon" ng-class="{ 'glyphicon-circle-arrow-up': getSortCriteriaDirection('vote') === 'descending', 'glyphicon-circle-arrow-down': getSortCriteriaDirection('vote') === 'ascending' }">
                  </i>
                </span>
              </span>
            </span>
          </div>
        </div>
      </div>

      <div class="row" style="padding-bottom:2px;">
        <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
          <div class="btn btn-default btn-shorter" title="When this person was first seen on source sites (it's \"new\" if )">
            <span class="persons-header-label">
              <span ng-if="!hasSortCriteria('new')">
                <span ng-click="addSortCriteria('new')">
                  new
                </span>
              </span>
              <span ng-if="hasSortCriteria('new')">
                <span ng-click="delSortCriteria('new')">
                  new
                </span>
                &nbsp;
                <span ng-click="flipSortCriteriaDirection('new')">
                  <i class="glyphicon" ng-class="{ 'glyphicon-circle-arrow-up': getSortCriteriaDirection('new') === 'descending', 'glyphicon-circle-arrow-down': getSortCriteriaDirection('new') === 'ascending' }">
                  </i>
                </span>
              </span>
            </span>
          </div>
        </div>
      </div>

    </div>
  </div>
  <!-- /persons-fixed-header -->

  <div style="overflow-y: auto; overflow-x: hidden;" resize resize-before="persons-fixed-header" resize-after="76" NOresize-after="footer">
    <div class="row" ng-if="personsList.length === 0">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 persons-warning-text">
        <span>Sorry, no person matching these criteria</span>
      </div>
    </div>
    <div class="row row-gap" ng-repeat="person in personsList"
      ng-attr-id="{{person.id_person}}" ng-show="isUniqShown('{{person.id_person}}')"
      ng-class="{
        'person-inactive': person.active === '0',
        'person-uniq-id-last': isUniqLast('{{person.id_person}}')
      }">
<!--<pre> person: {{person}} </pre>-->
      <div class="col-xs-4 col-sm-3 col-md-2 col-lg-2" style="min-width: 164px; padding-bottom:2px; white-space:nowrap;">
        <div class="showcase-left" ng-attr-title="{{'this person has some duplicate from different sources'}}">
          <a href="" ng-click="uniqShow('{{person.id_person}}')" class="no-text-decoration">
            <i class="fa fa-fw"
              ng-class="{
              'fa-plus-square': isUniqPrimary('{{person.id_person}}'),
              'fa-minus-square': isUniqPrimaryShown('{{person.id_person}}')
             }"></i>
          </a>
        </div>
        <div class="showcase-right">
          <div class="img-rounded img-clip-container" ng-attr-title="{{person.name}}">
            <a href="" ng-click="open(person.id_person)" class="no-text-decoration">
              <img ng-src="{{cfg.apiUri + '/' + person.photo_path_small_showcase}}" class="img-clip"
                ng-class="{
                  'img-thruthful-yes': person.thruthful === 'yes',
                  'img-thruthful-no': person.thruthful === 'no',
                  'img-thruthful-unknown': person.thruthful === 'unknown',
                }"
              />
            </a>
          </div>
        </div>
      </div>
  
      <div class="col-xs-8 col-sm-9 col-md-10 col-lg-10">
  
        <div class="row visible-sm visible-md visible-lg" style="padding-bottom:2px;">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <div class="person-name">
              <!-- SUPERSCRIPT BADGE NEW: <span ng-show="isNew(person.id_person)" class="label label-as-badge label-as-badge-small label-danger">NEW</span>-->
              <span style="text-align: left;">{{person.name}}</span>
            </div>
          </div>
        </div>
  
        <div class="row" style="padding-bottom:2px;">
          <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
            <button type="button" class="btn btn-default btn-wider" ng-attr-title="nationality: {{person.nationality}}">
              <a ng-href="#/"><i class="f16"><i ng-class="countries.getCountryClass(person.nationality)"></i></a>
            </button>
          </div>
          <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
              <button type="button" class="btn btn-default btn-wider" ng-attr-title="referral source: {{person.source_key}}" ng-click="openInNewTab('{{person.url}}')">
                <div class="img-rounded"><img ng-src="images/referral-sources/{{person.source_key}}.png" class="img-rounded img-source" /></div>
              </button>
          </div>
          <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
            <button type="button" class="btn btn-default btn-wider" ng-attr-title="phone: {{person.phone}}" ng-disabled="{{person.phone === '0'}}">
              <a ng-href="tel:{{person.phone}}"><i class="glyphicon glyphicon-earphone"></i></a>
            </button>
          </div>
  
          <div class="clearfix clearfix-thick visible-xs">&nbsp;</div>

          <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
            <div class="person-comments-count">
              <button class="btn btn-default btn-wider" type="button" ng-attr-title="{{person.comments_count}} comments">
                <!--<i class="glyphicon glyphicon-bullhorn text-default"></i>&nbsp;--><span class="label label-as-badge label-info">{{person.comments_count}}</span>
              </button>
            </div>
          </div>
          <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
            <div class="person-rating">
              <button class="btn btn-default btn-wider" type="button" ng-attr-title="rating: {{person.rating || 'none'}}">
                <span class="label label-as-badge label-danger">{{person.rating || '-'}}</span>
              </button>
            </div>
          </div>
          <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
            <div class="person-vote">
              <button class="btn btn-default btn-wider" type="button" ng-attr-title="vote: {{person.vote}}">
                <!--<i class="glyphicon glyphicon-thumbs-up text-success"></i>&nbsp;--><span class="label label-as-badge label-success">{{person.vote}}</span><!--&nbsp;<i class="glyphicon glyphicon-thumbs-down"></i>-->
              </button>
            </div>
          </div>
        </div>

        <div class="row" style="padding-bottom:2px;">
          <div class="col-xs-4 col-sm-2 col-md-2 col-lg-2">
            <div class="person-is-new">
              <button class="btn btn-default btn-wider" type="button" ng-attr-title="this person record is {{isNew(person.id_person) ? '' : 'not '}}new (first seen {{firstSeen(person.id_person)}})">
                <i class="glyphicon glyphicon-star" ng-class="{ 'person-new': isNew(person.id_person), 'person-not-new': isNew(person.id_person) }"></i>
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>